<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simplified Status Layout</title>
    <link rel="stylesheet" href="css/styles.css?v=1.1">
    <link rel="stylesheet" href="css/mobile-status-optimization.css?v=1.0">
    <link rel="stylesheet" href="css/mobile-status-quick-fix.css?v=1.0">
    <style>
        body {
            padding: 2rem;
            background: #f5f5f5;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        .test-container {
            max-width: 700px;
            margin: 0 auto;
            background: white;
            border-radius: 8px;
            padding: 2rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        .comparison-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin: 2rem 0;
        }
        .before-section {
            padding: 1rem;
            border-radius: 8px;
            border-left: 4px solid #dc3545;
            background: #f8d7da;
        }
        .after-section {
            padding: 1rem;
            border-radius: 8px;
            border-left: 4px solid #28a745;
            background: #d4edda;
        }
        .before-section h3 {
            color: #721c24;
            margin: 0 0 1rem 0;
        }
        .after-section h3 {
            color: #155724;
            margin: 0 0 1rem 0;
        }
        .demo-section {
            margin: 2rem 0;
            padding: 1.5rem;
            background: #f8f9fa;
            border-radius: 8px;
        }
        .btn {
            display: inline-block;
            padding: 0.75rem 1.5rem;
            margin: 0.5rem;
            background: #007bff;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9rem;
        }
        .btn:hover {
            background: #0056b3;
        }
        .btn.success {
            background: #28a745;
        }
        .btn.success:hover {
            background: #218838;
        }
        .old-status-demo {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            padding: 1rem;
            background: #f8f9fa;
            border-radius: 6px;
            font-size: 0.85rem;
        }
        .old-status-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.25rem 0.5rem;
            background: white;
            border-radius: 4px;
        }
        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
        }
        .status-dot.green { background: #28a745; }
        .status-dot.red { background: #dc3545; }
        .status-dot.yellow { background: #ffc107; }
        .status-dot.gray { background: #6c757d; }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>🎯 Simplified Status Layout</h1>
        
        <div style="text-align: center; margin: 2rem 0; padding: 1rem; background: #e8f4fd; border-radius: 8px;">
            <h3 style="color: #0c5460; margin: 0 0 0.5rem 0;">✨ Status Icons Simplified</h3>
            <p style="color: #0c5460; margin: 0;">Removed redundant scanner and system status. Kept only essential sync status and details button.</p>
        </div>

        <div class="comparison-section">
            <div class="before-section">
                <h3>❌ Before: Too Many Icons</h3>
                <div class="old-status-demo">
                    <div class="old-status-item">
                        <span class="status-dot green"></span>
                        <span>📱 Scanner Ready</span>
                    </div>
                    <div class="old-status-item">
                        <span class="status-dot red"></span>
                        <span>☁️ Sync Offline</span>
                    </div>
                    <div class="old-status-item">
                        <span class="status-dot gray"></span>
                        <span>ℹ️ System Unknown</span>
                    </div>
                    <div class="old-status-item">
                        <span>📋</span>
                        <span>Details Button</span>
                    </div>
                </div>
                <p style="font-size: 0.8rem; color: #721c24; margin: 0.5rem 0 0 0;">
                    4 status elements - cluttered and redundant
                </p>
            </div>

            <div class="after-section">
                <h3>✅ After: Clean & Essential</h3>
                <div class="scanner-header">
                    <h2 style="font-size: 1.1rem; margin-bottom: 0;">📱 Scan Volunteer Badge</h2>
                    <div class="scanner-status-container">
                        <div class="sync-status-compact offline" id="testSyncStatus" title="☁️ Sync Status: Working offline">
                            <span class="sync-status-indicator offline"></span>
                            <span class="sync-status-text">Sync</span>
                        </div>
                        <button class="status-details-btn" id="testDetailsBtn" title="📋 Details: Click for system information">
                            <span class="status-icon">ℹ️</span>
                        </button>
                    </div>
                </div>
                <p style="font-size: 0.8rem; color: #155724; margin: 0.5rem 0 0 0;">
                    2 status elements - clean and focused
                </p>
            </div>
        </div>

        <div class="demo-section">
            <h3>🧪 Interactive Test - Simplified Status</h3>
            <p>Test the simplified status layout with different sync states:</p>
            
            <div style="text-align: center; margin: 1rem 0;">
                <button class="btn success" onclick="setSyncStatus('online')">
                    ✅ Set Sync Online
                </button>
                <button class="btn" onclick="setSyncStatus('syncing')">
                    🔄 Set Sync Syncing
                </button>
                <button class="btn" onclick="setSyncStatus('offline')">
                    ❌ Set Sync Offline
                </button>
            </div>
        </div>

        <div style="margin-top: 2rem; padding: 1rem; background: #d4edda; border-radius: 6px; border-left: 4px solid #28a745;">
            <h4 style="color: #155724; margin: 0 0 0.5rem 0;">🎯 Benefits of Simplification</h4>
            <ul style="color: #155724; margin: 0.5rem 0 0 1.5rem;">
                <li><strong>Less clutter:</strong> 50% fewer status icons</li>
                <li><strong>Clearer purpose:</strong> Each icon has a distinct function</li>
                <li><strong>Better mobile UX:</strong> More space for actual content</li>
                <li><strong>Reduced confusion:</strong> No redundant status information</li>
                <li><strong>Easier maintenance:</strong> Fewer status states to manage</li>
            </ul>
        </div>

        <div style="margin-top: 2rem; padding: 1rem; background: #fff3cd; border-radius: 6px; border-left: 4px solid #ffc107;">
            <h4 style="color: #856404; margin: 0 0 0.5rem 0;">📋 Remaining Status Elements</h4>
            <ul style="color: #856404; margin: 0.5rem 0 0 1.5rem;">
                <li><strong>☁️ Sync Status:</strong> Shows Google Sheets connection (Online/Syncing/Offline)</li>
                <li><strong>📋 Details Button:</strong> Opens modal with technical system information</li>
            </ul>
        </div>
    </div>

    <script src="js/connectivity-validator.js"></script>
    <script>
        function setSyncStatus(status) {
            const syncElement = document.getElementById('testSyncStatus');
            const indicator = syncElement.querySelector('.sync-status-indicator');
            const text = syncElement.querySelector('.sync-status-text');

            // Clear existing classes
            syncElement.classList.remove('online', 'syncing', 'offline', 'error');
            indicator.classList.remove('online', 'syncing', 'offline', 'error');

            // Add new status
            syncElement.classList.add(status);
            indicator.classList.add(status);

            // Update tooltip
            const statusMessages = {
                online: '☁️ Sync Status: Connected to Google Sheets',
                syncing: '☁️ Sync Status: Syncing data to Google Sheets',
                offline: '☁️ Sync Status: Working offline'
            };
            
            syncElement.setAttribute('title', statusMessages[status]);
            
            console.log(`🔄 Sync status changed to: ${status}`);
        }

        // Add click handler for details button
        document.getElementById('testDetailsBtn').addEventListener('click', () => {
            const detailsInfo = `System Status Details:

☁️ Sync Status: ${document.getElementById('testSyncStatus').classList.contains('online') ? 'Online' : 
                   document.getElementById('testSyncStatus').classList.contains('syncing') ? 'Syncing' : 'Offline'}

📊 Local Storage: Available
🌐 Network: Connected
⚡ Performance: Good

This simplified status system shows only essential information:
• Sync status for data management
• Details button for troubleshooting

Scanner status is no longer shown as a separate indicator - 
the scanner input field itself shows when it's ready to use.`;
            
            alert(detailsInfo);
        });

        // Initialize with offline status
        document.addEventListener('DOMContentLoaded', () => {
            setSyncStatus('offline');
        });
    </script>
</body>
</html>