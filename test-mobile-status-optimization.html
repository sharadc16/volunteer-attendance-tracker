<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mobile Status Optimization Test</title>
    <link rel="stylesheet" href="css/styles.css?v=1.1">
    <link rel="stylesheet" href="css/mobile-status-optimization.css?v=1.0">
    <style>
        body {
            padding: 1rem;
            background: #f5f5f5;
        }
        .test-container {
            max-width: 400px;
            margin: 0 auto;
            background: white;
            border-radius: 8px;
            padding: 1.5rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        .test-controls {
            margin-top: 2rem;
            padding-top: 1rem;
            border-top: 1px solid #eee;
        }
        .test-btn {
            display: block;
            width: 100%;
            margin-bottom: 0.5rem;
            padding: 0.75rem;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9rem;
        }
        .test-btn:hover {
            background: #2980b9;
        }
        .test-btn.secondary {
            background: #95a5a6;
        }
        .test-btn.secondary:hover {
            background: #7f8c8d;
        }
        .device-simulator {
            border: 3px solid #333;
            border-radius: 25px;
            padding: 1rem;
            background: #000;
            margin: 1rem 0;
        }
        .device-screen {
            background: white;
            border-radius: 15px;
            overflow: hidden;
        }
        .status-demo {
            margin: 1rem 0;
            padding: 1rem;
            background: #f8f9fa;
            border-radius: 8px;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>üì± Mobile Status Optimization</h1>
        <p>This page demonstrates the improved mobile UI for status icons.</p>
        
        <div class="status-demo">
            <h3>Before (Vertical Layout)</h3>
            <div style="display: flex; flex-direction: column; gap: 0.5rem; align-items: flex-start;">
                <div style="display: flex; align-items: center; gap: 0.5rem;">
                    <span style="width: 10px; height: 10px; background: #27ae60; border-radius: 50%;"></span>
                    <span>Scanner Ready</span>
                </div>
                <div style="display: flex; align-items: center; gap: 0.5rem;">
                    <span style="width: 10px; height: 10px; background: #e74c3c; border-radius: 50%;"></span>
                    <span>Sync Offline</span>
                </div>
                <div style="display: flex; align-items: center; gap: 0.5rem;">
                    <span style="width: 10px; height: 10px; background: #f39c12; border-radius: 50%;"></span>
                    <span>Processing</span>
                </div>
            </div>
            <p style="font-size: 0.8rem; color: #666; margin-top: 0.5rem;">
                ‚ùå Takes up too much vertical space<br>
                ‚ùå Hard to understand at a glance<br>
                ‚ùå Not mobile-friendly
            </p>
        </div>

        <div class="status-demo">
            <h3>After (Ultra-Compact Single Line)</h3>
            <div class="scanner-header">
                <h2 style="font-size: 1.1rem; margin-bottom: 0;">üì± Scan Volunteer Badge</h2>
                <div class="scanner-status-container">
                    <div class="scanner-status ready" id="testScannerStatus" data-tooltip="Scanner is ready to scan badges">
                        <span class="scanner-indicator ready"></span>
                        <span class="scanner-text">Ready</span>
                    </div>
                    <div class="sync-status-compact offline" id="testSyncStatus" data-tooltip="Google Sheets sync status">
                        <span class="sync-status-indicator offline"></span>
                        <span class="sync-status-text">Sync</span>
                    </div>
                </div>
            </div>
            <p style="font-size: 0.8rem; color: #666; margin-top: 0.5rem;">
                ‚úÖ Single line layout saves 80% vertical space<br>
                ‚úÖ Color-coded badges for instant recognition<br>
                ‚úÖ Title and status on same line<br>
                ‚úÖ Responsive: icons-only on small screens
            </p>
        </div>

        <div class="test-controls">
            <h3>Test Different States</h3>
            <button class="test-btn" onclick="setStatus('ready', 'online')">
                ‚úÖ All Systems Ready
            </button>
            <button class="test-btn" onclick="setStatus('ready', 'syncing')">
                üîÑ Scanner Ready, Syncing
            </button>
            <button class="test-btn" onclick="setStatus('warning', 'offline')">
                ‚ö†Ô∏è Scanner Initializing, Offline
            </button>
            <button class="test-btn" onclick="setStatus('error', 'error')">
                ‚ùå Scanner Error, Sync Error
            </button>
            <button class="test-btn secondary" onclick="testMobileInteraction()">
                üì± Test Mobile Interaction
            </button>
            <button class="test-btn secondary" onclick="showComparisonView()">
                üìä Show Before/After Comparison
            </button>
        </div>

        <div style="margin-top: 2rem; padding: 1rem; background: #e8f5e8; border-radius: 8px; border-left: 4px solid #27ae60;">
            <h4 style="margin: 0 0 0.5rem 0; color: #155724;">Key Improvements</h4>
            <ul style="margin: 0; padding-left: 1.5rem; color: #155724;">
                <li>Single-line layout saves 80% vertical space</li>
                <li>Title and status indicators on same line</li>
                <li>Color-coded badges for instant status recognition</li>
                <li>Responsive: full text ‚Üí compact ‚Üí icons-only</li>
                <li>No vertical stacking - truly horizontal</li>
                <li>Touch-friendly with proper tap targets</li>
            </ul>
        </div>
    </div>

    <script src="js/mobile-status-enhancement.js"></script>
    <script>
        function setStatus(scannerStatus, syncStatus) {
            const scanner = document.getElementById('testScannerStatus');
            const sync = document.getElementById('testSyncStatus');
            const scannerIndicator = scanner.querySelector('.scanner-indicator');
            const syncIndicator = sync.querySelector('.sync-status-indicator');
            const scannerText = scanner.querySelector('.scanner-text');
            const syncText = sync.querySelector('.sync-status-text');

            // Reset classes
            scanner.className = 'scanner-status';
            sync.className = 'sync-status-compact';
            scannerIndicator.className = 'scanner-indicator';
            syncIndicator.className = 'sync-status-indicator';

            // Set scanner status
            scanner.classList.add(scannerStatus);
            scannerIndicator.classList.add(scannerStatus);
            
            const scannerMessages = {
                ready: 'Ready to scan',
                warning: 'Initializing...',
                error: 'Scanner error'
            };
            scannerText.textContent = scannerMessages[scannerStatus];

            // Set sync status
            sync.classList.add(syncStatus);
            syncIndicator.classList.add(syncStatus);
            
            const syncMessages = {
                online: 'Sync',
                offline: 'Sync',
                syncing: 'Sync',
                error: 'Sync'
            };
            syncText.textContent = syncMessages[syncStatus];

            // Update tooltips
            const scannerTooltips = {
                ready: 'Scanner is ready to scan badges',
                warning: 'Scanner is initializing - please wait',
                error: 'Scanner error - check connection'
            };
            const syncTooltips = {
                online: 'Connected to Google Sheets',
                offline: 'Not connected to Google Sheets',
                syncing: 'Syncing data to Google Sheets',
                error: 'Sync error - check connection'
            };
            
            scanner.setAttribute('data-tooltip', scannerTooltips[scannerStatus]);
            sync.setAttribute('data-tooltip', syncTooltips[syncStatus]);
        }

        function testMobileInteraction() {
            alert('On mobile devices:\n\n‚Ä¢ Tap status icons for detailed information\n‚Ä¢ Swipe up on status area to refresh\n‚Ä¢ Haptic feedback on supported devices\n‚Ä¢ Automatic responsive layout adjustments');
        }

        function showComparisonView() {
            const comparison = `
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin: 1rem 0;">
                    <div style="text-align: center;">
                        <h4>Before</h4>
                        <div style="background: #f8d7da; padding: 1rem; border-radius: 8px;">
                            <div style="display: flex; flex-direction: column; gap: 0.5rem;">
                                <div>üî¥ Scanner Status</div>
                                <div>üü° Sync Status</div>
                                <div>üü¢ Other Status</div>
                            </div>
                            <p style="font-size: 0.8rem; margin-top: 0.5rem;">Takes 3x more space</p>
                        </div>
                    </div>
                    <div style="text-align: center;">
                        <h4>After</h4>
                        <div style="background: #d4edda; padding: 1rem; border-radius: 8px;">
                            <div style="display: flex; gap: 0.5rem; justify-content: center;">
                                <span style="background: #27ae60; color: white; padding: 0.25rem 0.5rem; border-radius: 12px; font-size: 0.8rem;">üì± Ready</span>
                                <span style="background: #e74c3c; color: white; padding: 0.25rem 0.5rem; border-radius: 12px; font-size: 0.8rem;">‚òÅÔ∏è Sync</span>
                            </div>
                            <p style="font-size: 0.8rem; margin-top: 0.5rem;">Compact & clear</p>
                        </div>
                    </div>
                </div>
            `;
            
            if (window.mobileStatusEnhancer) {
                window.mobileStatusEnhancer.showMobileModal('üìä Before vs After', comparison);
            } else {
                alert('Mobile Status Enhancer not loaded. Please refresh the page.');
            }
        }

        // Initialize with default status
        document.addEventListener('DOMContentLoaded', () => {
            setTimeout(() => setStatus('ready', 'offline'), 500);
        });
    </script>
</body>
</html>